# CDC 개요 및 실무 사례
실무의 MSA 환경에서는 DB에 Write하는 것과 Kafka의 Produce하는게 함께 이루어져야 하는 경우가 굉장히 많다.  
주로 데이터 변경사항을 Kafka로 연동해야 하는 경우에 해당한다.  
이걸 개념적으로 `CDC`라고 부른다.

<br>

## CDC란?

* `Change Data Capture`

사실 정의하기 나름이지만, 좁게 정의하자면 Kafka Connect를 통해서 DB에서 Kafka로 데이터 변경사항이 발행되는 것을 CDC라 부르기도 하고, 넓게 정의하자면 데이터 변경사항을 Kafka로 흘려주는 그러한 형태가 다 CDC라고 부르기도 한다.  
우리는 넓게 정의한 CDC의 정의로 실무 사례를 살펴보자.

<br>

## CDC가 필요한 실무 사례
CDC는 실무에서 굉장히 많이 사용된다.
* A팀에서 데이터 원천을 관리하는데, B팀에서 이 데이터를 계속 싱크 받아야 한다면?
  1. 회사의 규모가 작을 때(A팀과 B팀이 동일한 DB를 사용할 때)
     * A팀의 DB에 B팀이 아예 직접 붙어서 서비스에 사용
  2. 회사가 성장해서 규모가 커졌을 때(A팀 DB와 B팀 DB를 따로 관리 할 때)
     * A팀의 DB에 B팀이 주기적으로 직접 붙어서 싱크해온 뒤, B팀 자체적으로 구축한 복사본 DB에 저장 후 사용
  3. 회사의 규모가 클 때(A팀이 원천 DB를 사용하고, B팀이나 다른팀에게 메시지를 발행하는 형태)
     * A팀이 kafka를 통해 메시지 형태로 변경사항을 Produce 해주면, B팀에서 Consume해서 자체 구축한 데이터에 준실시간 싱크해서 사용

3번부터 CDC의 니즈가 발생하기 시작한다.  
A팀은 원천 DB를 관리하는 팀이다보니 DB에 write는 무조건 해야할테고, 다른팀에서 사용할 수 있도록 데이터 변경사항을 Kafka에도 Produce 해줘야 한다.  
따라서 DB에 write하는 것과 Kafka에 Produce를 하는 것이 동시에 이루어져야 하는 니즈가 생기는 것이다.  
이러한 것을 CDC가 필요한 실무 사례로 정의를 하고 앞으로 더 살펴보자.